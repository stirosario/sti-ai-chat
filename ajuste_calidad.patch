diff --git a/server.js b/server.js
index 0000000..1111111 100644
--- a/server.js
+++ b/server.js
@@ -918,12 +918,10 @@ async function handleAskDeviceStage(ctx) {
   // Validación estructural defensiva
   if (!ctx || !ctx.session) {
     console.error('[ASK_DEVICE] Error: ctx o ctx.session faltante');
-    return {
-      reply: 'Error interno. Por favor, intentá nuevamente.',
-      stage: 'ASK_DEVICE',
-      buttons: []
-    };
+    return {
+      ok: false,
+      error: 'missing_ctx',
+      message: 'Context or session missing in handleAskDeviceStage'
+    };
   }
   
   const { sessionId, session, userText, buttonToken } = ctx;
@@ -978,12 +976,10 @@ async function handleAskOsStage(ctx) {
   // Validación estructural defensiva
   if (!ctx || !ctx.session) {
     console.error('[ASK_OS] Error: ctx o ctx.session faltante');
-    return {
-      reply: 'Error interno. Por favor, intentá nuevamente.',
-      stage: 'ASK_OS',
-      buttons: []
-    };
+    return {
+      ok: false,
+      error: 'missing_ctx',
+      message: 'Context or session missing in handleAskOsStage'
+    };
   }
   
   const { sessionId, session, userText, buttonToken } = ctx;
@@ -1562,20 +1558,16 @@ app.post('/api/chat', async (req, res) => {
     } else if (session.stage === 'ASK_DEVICE') {
       console.log(`[CHAT] [${sessionId}] Procesando ASK_DEVICE`);
-      try {
-        result = await handleAskDeviceStage({ sessionId, session, userText, buttonToken });
-      } catch (err) {
-        console.error(`[CHAT] [${sessionId}] Error en handleAskDeviceStage:`, err);
-        // Fallback absoluto
-        const contract = getStageContract('ASK_DEVICE');
-        result = {
-          reply: session.userLocale?.startsWith('en')
-            ? 'I understand. To continue, please tell me what type of device you are using.'
-            : 'Entiendo. Para seguir, decime qué tipo de equipo es.',
-          stage: 'ASK_DEVICE',
-          buttons: contract.defaultButtons
-        };
+      result = await handleAskDeviceStage({ sessionId, session, userText, buttonToken });
+      // Si el handler retorna error estructurado, propagarlo
+      if (result && result.ok === false) {
+        console.error(`[CHAT] [${sessionId}] Error estructurado de handleAskDeviceStage:`, result.error);
+        return res.status(500).json({ ok: false, error: result.error, message: result.message });
       }
     } else if (session.stage === 'ASK_OS') {
       console.log(`[CHAT] [${sessionId}] Procesando ASK_OS`);
-      try {
-        result = await handleAskOsStage({ sessionId, session, userText, buttonToken });
-      } catch (err) {
-        console.error(`[CHAT] [${sessionId}] Error en handleAskOsStage:`, err);
-        // Fallback absoluto
-        const contract = getStageContract('ASK_OS');
-        result = {
-          reply: session.userLocale?.startsWith('en')
-            ? 'What operating system are you using?'
-            : '¿Qué sistema operativo estás usando?',
-          stage: 'ASK_OS',
-          buttons: contract.defaultButtons
-        };
+      result = await handleAskOsStage({ sessionId, session, userText, buttonToken });
+      // Si el handler retorna error estructurado, propagarlo
+      if (result && result.ok === false) {
+        console.error(`[CHAT] [${sessionId}] Error estructurado de handleAskOsStage:`, result.error);
+        return res.status(500).json({ ok: false, error: result.error, message: result.message });
       }
     } else if (session.stage === 'DIAGNOSTIC_STEP') {

